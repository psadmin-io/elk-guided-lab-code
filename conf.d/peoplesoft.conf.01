input {
  file {
    type => "access_log"
    path => ["/tmp/elk-guided-lab-code/logs/webserv/psftdb/servers/PIA/logs/PIA_access.log"]
    mode => "read"
    start_position => "beginning"
    file_completed_action => "log"
    file_completed_log_path => "/tmp"
  }
}

filter {
  # Drop empty log lines
  if [message] == "" {
    drop { }
  }
}

output {
  stdout {
    codec => "json"
  }
}
